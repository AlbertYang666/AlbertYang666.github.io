<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>闭包点赞案例：公众号AlbertYang</title>
		<style>
			ul {
				list-style-type: none;
			}

			li {
				float: left;
				margin-left: 10px;
				margin-bottom: 20px;
			}

			img {
				height: 300px;
			}

			input {
				margin-left: 30%;
			}
		</style>
	</head>
	<body>
		<ul>
			<li><img src="1.jpg" alt=""><br /><input type="button" value="(1)赞"></li>
			<li><img src="2.jpg" alt=""><br /><input type="button" value="(1)赞"></li>
			<li><img src="3.jpg" alt=""><br /><input type="button" value="(1)赞"></li>
			<li><img src="4.jpg" alt=""><br /><input type="button" value="(1)赞"></li>
			<li><img src="5.jpg" alt=""><br /><input type="button" value="(1)赞"></li>
			<li><img src="6.jpg" alt=""><br /><input type="button" value="(1)赞"></li>
		</ul>
	</body>
	<script>
		// 根据标签名字获取元素
		function my$(tagName) {
			return document.getElementsByTagName(tagName);
		}
		// 使用闭包
		function getValue() {
			var value = 2;
			return function() {
				// 每一次点击的时候,都应该改变当前点击按钮的value值
				this.value = "(" + (value++) + ")赞";
			}
		}
		//获取所有的按钮
		var btnObjs = my$("input");
		//循环遍历每个按钮,注册点击事件
		for (var i = 0; i < btnObjs.length; i++) {
			//注册事件
			btnObjs[i].onclick = getValue();
		}
	</script>
</html>
